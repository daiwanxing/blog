import{_ as s,c as n,o as a,a as l}from"./app.6e530a92.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"æˆ‘æ˜¯å¦‚ä½•å°†åŸºäº vue-cli æ­å»ºçš„é¡¹ç›®è¿ç§»åˆ° vite ä¸­çš„","slug":"æˆ‘æ˜¯å¦‚ä½•å°†åŸºäº-vue-cli-æ­å»ºçš„é¡¹ç›®è¿ç§»åˆ°-vite-ä¸­çš„","link":"#æˆ‘æ˜¯å¦‚ä½•å°†åŸºäº-vue-cli-æ­å»ºçš„é¡¹ç›®è¿ç§»åˆ°-vite-ä¸­çš„","children":[{"level":3,"title":"â“æˆ‘ä¸ºä»€ä¹ˆéœ€è¦å°† vue-cli æ›¿æ¢æˆ vite","slug":"â“æˆ‘ä¸ºä»€ä¹ˆéœ€è¦å°†-vue-cli-æ›¿æ¢æˆ-vite","link":"#â“æˆ‘ä¸ºä»€ä¹ˆéœ€è¦å°†-vue-cli-æ›¿æ¢æˆ-vite","children":[]},{"level":3,"title":"âš ï¸æ›¿æ¢çš„å‡†å¤‡å·¥ä½œ","slug":"âš ï¸æ›¿æ¢çš„å‡†å¤‡å·¥ä½œ","link":"#âš ï¸æ›¿æ¢çš„å‡†å¤‡å·¥ä½œ","children":[]},{"level":3,"title":"ğŸ”œå¼€å§‹è¿›è¡Œè¿ç§»","slug":"ğŸ”œå¼€å§‹è¿›è¡Œè¿ç§»","link":"#ğŸ”œå¼€å§‹è¿›è¡Œè¿ç§»","children":[]}]}],"relativePath":"guide/engineering/index.md","lastUpdated":1676014440000}'),p={name:"guide/engineering/index.md"},o=l(`<h2 id="æˆ‘æ˜¯å¦‚ä½•å°†åŸºäº-vue-cli-æ­å»ºçš„é¡¹ç›®è¿ç§»åˆ°-vite-ä¸­çš„" tabindex="-1">æˆ‘æ˜¯å¦‚ä½•å°†åŸºäº vue-cli æ­å»ºçš„é¡¹ç›®è¿ç§»åˆ° vite ä¸­çš„ <a class="header-anchor" href="#æˆ‘æ˜¯å¦‚ä½•å°†åŸºäº-vue-cli-æ­å»ºçš„é¡¹ç›®è¿ç§»åˆ°-vite-ä¸­çš„" aria-hidden="true">#</a></h2><h3 id="â“æˆ‘ä¸ºä»€ä¹ˆéœ€è¦å°†-vue-cli-æ›¿æ¢æˆ-vite" tabindex="-1">â“æˆ‘ä¸ºä»€ä¹ˆéœ€è¦å°† vue-cli æ›¿æ¢æˆ vite <a class="header-anchor" href="#â“æˆ‘ä¸ºä»€ä¹ˆéœ€è¦å°†-vue-cli-æ›¿æ¢æˆ-vite" aria-hidden="true">#</a></h3><p>å…¬å¸æŸä¸ªé¡¹ç›®æ˜¯åŸºäº vue-cli4 å¼€å‘çš„ï¼Œè€Œ cli4 åˆæ˜¯åŸºäº webpack4 æ„å»ºçš„ä¸€ä¸ªè„šæ‰‹æ¶ã€‚åœ¨è¿™åŠå¹´çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»™æˆ‘é‡åˆ°äº†å¾ˆå¤šå¤´ç–¼çš„é—®é¢˜ï¼Œå…¶ä¸­æœ€ä¸ºéš¾å—çš„æ˜¯æ‰“åŒ…ã€å¯åŠ¨æ— æ¯”çš„æ…¢ã€‚è¿™ä¸ªé¡¹ç›®çš„æ‰€æœ‰æºç æ–‡ä»¶åŠ èµ·æ¥ä¹Ÿæœ‰ 500 å¤šä¸ªï¼Œç®—æ˜¯ä¸€ä¸ªä¸­å¤§å‹é¡¹ç›®ã€‚æˆ‘åœ¨ vue-cli ä¸­çš„ä¸€äº›åŸæœ‰çš„é…ç½®åŸºç¡€ä¸Šè¿›è¡Œäº†æ‰“åŒ…çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚ï¼šæ‹†åˆ†å¤šä¸ªæ‰“åŒ…åˆ° app.js ä¸­çš„ chunkï¼Œå°½å¯èƒ½çš„ä½¿é¦–é¡µç™½å±æ—¶é•¿ç¼©çŸ­, åˆ é™¤<code>Moment.js</code>ä¸­å…¶ä»–çš„è¯­è¨€åŒ…ï¼Œåªä¿ç•™ä¸­æ–‡ï¼Œåœ¨ UI åº“<code>ant-design-vue</code>æ–¹é¢ï¼Œåˆ©ç”¨<code>unplugin-vue-components</code>ï¼Œè‡ªåŠ¨æŒ‰éœ€åŠ è½½éœ€ç”¨ç”¨åˆ°çš„ç»„ä»¶ä»¥åŠç»„ä»¶çš„ styleï¼Œå‡å°‘æ‰“åŒ…åçš„ bundle size.å¯ç”¨ webpack ä¸­çš„**<em>tree-shaking</em>**, åˆ é™¤æœªä½¿ç”¨çš„ä»£ç ...</p><p>å³ä¾¿åšäº†è¿™äº›å·¥ä½œï¼Œstartã€build ä¹Ÿéœ€è¦å¹³å‡è€—è´¹ 2-3 åˆ†é’Ÿçš„æ—¶é—´ï¼Œå¹¶ä¸”æ¯æ¬¡çƒ­æ›´æ–°ä¹Ÿéœ€è¦ 3~5 ç§’å·¦å³çš„æ—¶é—´ã€‚ è¿™å¯¹å¼€å‘è€…è€Œè¨€è¿™å‡ åˆ†é’Ÿçš„ç­‰å¾…æ— ç–‘æ˜¯ååˆ†çš„æ¼«é•¿ã€‚</p><h3 id="âš ï¸æ›¿æ¢çš„å‡†å¤‡å·¥ä½œ" tabindex="-1">âš ï¸æ›¿æ¢çš„å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#âš ï¸æ›¿æ¢çš„å‡†å¤‡å·¥ä½œ" aria-hidden="true">#</a></h3><ol><li>å¸è½½é¡¹ç›®ä¸­ä¸€äº›å’Œ webpack ä»¥åŠ cli ç›¸å…³çš„ä¾èµ–</li></ol><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">@vue/cli-plugin-babel</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~4.5.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">@vue/cli-plugin-eslint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~4.5.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">@vue/cli-plugin-router</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~4.5.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">@vue/cli-plugin-typescript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~4.5.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">@vue/cli-plugin-vuex</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~4.5.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">@vue/cli-service</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">~4.5.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">webpack-bundle-analyzer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^4.4.2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">webpackbar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">^5.0.2</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>å®‰è£…viteç­‰ç›¸å…³ä¾èµ–</li></ol><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rollup-plugin-visualizer</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">unplugin-vue-components</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># rollup-plugin-visualizerçš„ä½œç”¨ç±»ä¼¼äºwebpack-bundle-analyzerï¼Œbuildä¹‹åå¯ä»¥å¯¹æ‰“åŒ…åçš„æ¯ä¸ªæ–‡ä»¶å¤§å°è¿›è¡Œåˆ†æ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># unplugin-vue-components ç”¨äºå®ç°æŒ‰éœ€å¯¼å…¥uiåº“çš„ç»„ä»¶ä¸ç»„ä»¶æ ·å¼çš„æ’ä»¶</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@vitejs/plugin-vue-jsx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@vitejs/plugin-vue</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vite-plugin-eslint</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># @vitejs/plugin-vue-jsx ä¸ºäº†æ”¯æŒåœ¨vueæ–‡ä»¶ä¸­ä½¿ç”¨jsxçš„è¯­æ³•</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># @vitejs/plugin-vue è®©viteçŸ¥é“å¦‚ä½•ç¼–è¯‘vueæ–‡ä»¶</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># vite-plugin-eslint åœ¨ç¼–è¯‘æœŸæˆ–çƒ­æ›´æ–°å¯¹linté”™è¯¯çš„ä»£ç è¿›è¡ŒæŠ¥é”™å¹¶åœæ­¢ç»§ç»­ç¼–è¯‘</span></span>
<span class="line"></span></code></pre></div><h3 id="ğŸ”œå¼€å§‹è¿›è¡Œè¿ç§»" tabindex="-1">ğŸ”œå¼€å§‹è¿›è¡Œè¿ç§» <a class="header-anchor" href="#ğŸ”œå¼€å§‹è¿›è¡Œè¿ç§»" aria-hidden="true">#</a></h3><ol><li>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ–°å»ºvite.config.js</li></ol><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">defineConfig</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vite</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@vitejs/plugin-vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> eslint </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vite-plugin-eslint</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> vueJsx </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@vitejs/plugin-vue-jsx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">visualizer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup-plugin-visualizer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Components </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">unplugin-vue-components/vite</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">AntDesignVueResolver</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">unplugin-vue-components/resolvers</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineConfig</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">command</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">mode</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        build</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            target</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">es2019</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chrome80</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            minify</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">esbuild</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            outDir</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            sourcemap</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">command</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">serve</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">inline</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            cssCodeSplit</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            rollupOptions</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                output</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    assetFileNames</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">assetInfo</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">info</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">assetInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                        </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">extType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">info</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">info</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">jpe</span><span style="color:#89DDFF;">?</span><span style="color:#C3E88D;">g</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">svg</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">gif</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">tiff</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">bmp</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">ico</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">i</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">extType</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                            </span><span style="color:#A6ACCD;">extType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">img</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">woff</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">woff2</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">tff</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">extType</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                            </span><span style="color:#A6ACCD;">extType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">font</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">                        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">static/</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">extType</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/[hash][extname]</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">                    chunkFileNames</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">assets/js/[name]-[hash].js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                    entryFileNames</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">assets/js/[name]-[hash].js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        server</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            port</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">8080</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            strictPort</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            open</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            proxy</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">/api</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    target</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0:0:0:0:8086</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                    changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        css</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            preprocessorOptions</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                less</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    additionalData</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">@import url(&#39;src/styles/preload.less&#39;);</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        plugins</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">Components</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                resolvers</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#82AAFF;">AntDesignVueResolver</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                        resolveIcons</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                version</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">vueJsx</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">vue</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">visualizer</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                open</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">eslint</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                failOnWarning</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                failOnError</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">        resolve</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            alias</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">@</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><ol start="2"><li>åœ¨main.tsä¸­åˆ é™¤å…¨å±€å®‰è£…ant-design-vueçš„ä»£ç </li></ol><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-palenight has-highlighted-lines"><code><span class="line highlighted"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Antd </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ant-design-vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ant-design-vue/dist/antd.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(Antd)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ é™¤ babel.config.js, åœ¨viteä¸­æˆ‘ä»¬ä¸éœ€è¦babelå¯¹ä¸šåŠ¡ä»£ç è¿›è¡Œpolyfillï¼Œä¹Ÿä¸éœ€è¦babel-plugin-importæ¥å®ç°æŒ‰éœ€å¯¼å…¥ã€‚viteé¢å‘æ˜¯çš„ç°ä»£çš„æµè§ˆå™¨ï¼ˆæŒ‡çš„æ˜¯èƒ½å¤Ÿæ”¯æŒdynamic importçš„æµè§ˆå™¨ï¼‰æ— éœ€åšapiå±‚é¢çš„è½¬æ¢ï¼Œè¯­æ³•å±‚é¢ä¸Šçš„è½¬æ¢äº¤ç»™äº†esbuild.</li></ol><p>å¦‚æœé¡¹ç›®çš„ç¡®éœ€è¦è€ƒè™‘å‘åå…¼å®¹è¾ƒä½ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼Œå¯ä»¥ä½¿ç”¨viteå®˜æ–¹æä¾›çš„@vitejs/plugin-legacyæ’ä»¶</p><blockquote><p>ä¼ ç»Ÿæµè§ˆå™¨å¯ä»¥é€šè¿‡æ’ä»¶ @vitejs/plugin-legacy æ¥æ”¯æŒï¼Œå®ƒå°†è‡ªåŠ¨ç”Ÿæˆä¼ ç»Ÿç‰ˆæœ¬çš„ chunk åŠä¸å…¶ç›¸å¯¹åº” ES è¯­è¨€ç‰¹æ€§æ–¹é¢çš„ polyfillã€‚å…¼å®¹ç‰ˆçš„ chunk åªä¼šåœ¨ä¸æ”¯æŒåŸç”Ÿ ESM çš„æµè§ˆå™¨ä¸­è¿›è¡ŒæŒ‰éœ€åŠ è½½ã€‚</p></blockquote><ol start="4"><li><p>å°†publicä¸­çš„æ–‡ä»¶å¤¹å†…çš„index.htmlæ–‡ä»¶æŒªåˆ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼ŒviteæœåŠ¡å™¨åªä¼šä»é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°index.htmlæ–‡ä»¶, åˆ é™¤htmlæ–‡ä»¶ä¸­å£°æ˜çš„æ¨¡æ¿å˜é‡ã€‚</p></li><li><p>é‡æ–°é…ç½®ç›¸å…³çš„eslintè§„åˆ™</p></li><li><p>å°†é¡¹ç›®æ–‡ä»¶ä¸­ç”¨åˆ°çš„<code>p<wbr>rocess.env</code> æ›¿æ¢ä¸º <code>i<wbr>mport.meta</code>ï¼Œi<wbr>mport.metaæ˜¯es6ä¸­çš„ä¸€ä¸ªæ–°çš„å…ƒæ•°æ®å±æ€§å¯¹è±¡. Viteå¯¹å…¶è¿›è¡Œäº†æ‰©å±•.</p></li><li><p>å°† <code>.env</code>ã€<code>.env-local</code>ç­‰ç¯å¢ƒå˜é‡çš„æ–‡ä»¶ä¸­çš„<code>VUE</code>å¼€å¤´çš„å¸¸é‡æ”¹ä¸º<code>VITE</code>å¼€å¤´.</p></li><li><p>å°†é¡¹ç›®ä¸­ç”¨åˆ°äº†<code>require.context</code>æ–¹æ³•æ›¿æ¢æˆ<code>i<wbr>mport.meta.glob</code>.</p></li></ol>`,18),e=[o];function t(c,F,r,D,y,i){return a(),n("div",null,e)}const A=s(p,[["render",t]]);export{u as __pageData,A as default};
