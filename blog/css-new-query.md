---
slug: css-new-query
title: "CSS @container"
authors: klein
---

import CSSContainerExample from '@site/src/components/example/container';

<!-- truncate -->

ä½ çŸ¥é“ CSS çš„ `@container` ï¼ˆä¸‹æ–‡ç»Ÿä¸€ç§°ä¸ºå®¹å™¨æŸ¥è¯¢ï¼‰æ˜¯ä»€ä¹ˆå—ï¼Ÿå®ƒæ˜¯å“åº”å¼å¸ƒå±€çš„æ–°æ™‹ç‹è€…ï¼Œæ¯”ä¼ ç»Ÿçš„åª’ä½“æŸ¥è¯¢ `@media` æ›´ä¸ºå¼ºå¤§ã€çµæ´»ã€‚

> `å®¹å™¨æŸ¥è¯¢` ä¸åŸºäºè§†å£å¤§å°çš„å“åº”èƒ½åŠ›çš„åª’ä½“æŸ¥è¯¢ä¸åŒï¼Œ`å®¹å™¨æŸ¥è¯¢` å…è®¸åŸºäº**çˆ¶å®¹å™¨**çš„å¤§å°è®¾ç½®å­å…ƒç´ æ ·å¼ã€‚è¿™ç§è½¬å˜ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåˆ›å»ºæ›´åŠ æ¨¡å—åŒ–ã€å¯é‡ç”¨çš„ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶å¯ä»¥åœ¨ä¸åŒçš„å®¹å™¨ç¯å¢ƒä¸­æ— ç¼é€‚åº”ã€‚

è¿™æ®µè¯å¾ˆå¥½ç†è§£ã€‚å›é¡¾ä»¥å‰ä½¿ç”¨åª’ä½“æŸ¥è¯¢ï¼Œåœ¨ä¸åŒè§†å£ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºä¸€ä¸ªå…ƒç´ ç¼–å†™ç‰¹å®šçš„æ ·å¼ï¼š

```css
@media screen and (max-width: 720px) {
  div {
    color: white;
  }
}
```

okï¼Œè¿™ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜ã€‚å‡è®¾ä¸€ä¸ªé¡µé¢ä¸Šæœ‰è‹¥å¹²ä¸ªå…ƒç´ ï¼Œéƒ½éœ€è¦åœ¨è§†å£å°äº `720px` ä¸‹è°ƒæ•´å¯¹åº”çš„æ ·å¼ï¼Œé‚£ä¹ˆè¿™äº›å…ƒç´ çš„æ–°æ ·å¼æ˜¯å¦éƒ½å¾—å†™åœ¨è¿™ï¼Ÿ

ç„¶ååˆéœ€è¦æ·»åŠ ä¸€ä¸ªæ–­ç‚¹ï¼Œåœ¨è§†å£å°äº `375px` ç›¸å…³çš„å®¹å™¨çš„æ ·å¼ã€‚æ‹œæ‰˜è¿™æ ·å†™ä¸€å¨çœŸçš„å¾ˆéš¾å—ã€‚

ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½å°†å…³æ³¨ç‚¹ä»è§†å£è½¬ç§»åˆ°å®¹å™¨æœ¬èº«å‘¢ï¼Ÿ

å¦‚æœæœ‰ä¸€ç§æŠ€æœ¯æ–¹æ¡ˆèƒ½ä½¿å¾—æˆ‘ä»¬åªéœ€è¦å…³æ³¨è¦è°ƒæ•´çš„å®¹å™¨åœ¨ä¸åŒé¡µé¢ä¸‹çš„å°ºå¯¸ï¼Œé‚£è¿™æ ·å°±èƒ½æ‹¥æŠ±ç»„ä»¶åŒ–çš„æ€æƒ³äº†ã€‚**åªéœ€è¦å…³æ³¨ç»„ä»¶æœ¬èº«çš„`è§†å£`ï¼ˆå°±æ˜¯å®½åº¦ï¼‰**ï¼Œç„¶åå†åŠ¨æ€è°ƒæ•´ç›¸å…³çš„æ ·å¼ã€‚

`@container`ï¼šæ­£æ˜¯åœ¨ä¸‹ ğŸ˜‚ã€‚

:::info
ç›®å‰ä¸»æµæµè§ˆå™¨ç‰ˆæœ¬éƒ½æ”¯æŒå®¹å™¨æŸ¥è¯¢ï¼šChromium å’Œ Edge (105+) ä»¥åŠ Safari (16+)ã€‚
:::

å¦‚æœä½ å…¬å¸çš„ä¸šåŠ¡ä¸éœ€è¦è€ƒè™‘è¿‡æ—§çš„æµè§ˆå™¨å…¼å®¹ä¸‹å®ç°å“åº”å¼å¸ƒå±€ï¼Œä¸ºä»€ä¹ˆä¸å°è¯• `@container` è¿™ä¸€åˆ©å™¨å‘¢ï¼Ÿ

:::info
åœ¨æˆ‘ç”¨äº† `@container` å†™äº†å‡ ä¸ªç®€å•çš„å“åº”å¼é¡µé¢åå†³å®šå½»åº•ä¸ `@media` è¯´æ‹œæ‹œï¼ï¼ˆé™¤éè€ƒè™‘å…¼å®¹æ€§ï¼‰ã€‚
:::

è¦æƒ³ä½¿ç”¨å®¹å™¨æŸ¥è¯¢ï¼Œé¦–å…ˆå¾—éœ€è¦åœ¨å®¹å™¨å…ƒç´ æ ·å¼å†…å£°æ˜ä¸€è¡Œ `container-name` å±æ€§ï¼Œæ ‡æ˜å®¹å™¨çš„åç§°ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨å®¹å™¨æŸ¥è¯¢ä¸­å¼•ç”¨è¯¥å®¹å™¨ã€‚

è¿˜éœ€è¦å£°æ˜å®¹å™¨çš„ç±»å‹ï¼Œå£°æ˜å®¹å™¨ç±»å‹çš„ç›®çš„æ˜¯ä»¥ä¾¿æµè§ˆå™¨çŸ¥é“æŸ¥è¯¢è¯¥å®¹å™¨çš„ç»´åº¦ï¼Œ`container-type` å¯é€‰çš„å€¼æœ‰ï¼š

- inline-size
  - åŸºäºå®¹å™¨çš„è¡Œå†…å°ºå¯¸ï¼ˆé€šå¸¸æ˜¯å®½åº¦ï¼‰
- size
  - å®¹å™¨çš„å°ºå¯¸ï¼ˆåŒ…æ‹¬å®½åº¦å’Œé«˜åº¦ï¼‰å°†ç”¨äºå®¹å™¨æŸ¥è¯¢
- normal
  - å®¹å™¨ä¸ä¼šå‚ä¸å®¹å™¨æŸ¥è¯¢

:::tip
é»˜è®¤æƒ…å†µä¸‹ï¼Œ`container-type` æ˜¯ `normal`ï¼Œè¿™æ„å‘³ç€å…ƒç´ ä¸ä¼šè¢«å½“ä½œå®¹å™¨æ¥è¿›è¡Œå®¹å™¨æŸ¥è¯¢ã€‚
:::

ä¾‹å¦‚ä¸‹é¢è¿™æ®µ CSS ä»£ç ï¼Œæˆ‘ç»™ `.my-box` è¿™ä¸ªç±»åå£°æ˜äº†å®¹å™¨çš„åç§°ä¸º `notify-card`ã€‚

```css
.my-box {
  height: 100px;
  container-name: notify-card;
  background: black;
  border-radius: 1em;
  container-type: inline-size;
}
```

è¿™æ ·æˆ‘ä»¬å°±èƒ½ç¼–å†™å®¹å™¨æŸ¥è¯¢è§„åˆ™ï¼Œä½¿ç”¨è¿™ä¸ªåç§°æ¥åº”ç”¨ç‰¹å®šçš„æ ·å¼ã€‚

æ¯”å¦‚æˆ‘å¸Œæœ›åœ¨å®¹å™¨ `>300px && < 500px` å­å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ä¸ºè“è‰²ï¼Œ`> 500px` ä¸ºç°è‰²ã€‚è¿™æ ·å®ç°ç‰¹åˆ«ç®€å•ã€‚

```css
@container notify-card (min-width: 300px) and (max-width: 500px) {
  .child-element {
    background-color: blue;
  }
}

@container notify-card (min-width: 500px) {
  .child-element {
    background-color: gray;
  }
}
```

ä»¥ä¸€æ®µç®€å•çš„ CSS ä»£ç å¿«é€Ÿè¿‡ä¸€ä¸‹è¿™ä¸ªè§„åˆ™çš„ä½¿ç”¨ã€‚

```css
.my-box {
  height: "100px",
  container-name: "notify-card";
  background: black;
  border-radius: 1em;
}
```

ä¸‹é¢æ˜¯æ ·å¼åº”ç”¨åˆ°å…ƒç´ çš„ç¤ºä¾‹ï¼š

<CSSContainerExample />
